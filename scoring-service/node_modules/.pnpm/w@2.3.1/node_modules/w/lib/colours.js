"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.colourNs = void 0;
exports.selectColour = selectColour;
const genColours = (n = 72) => {
    const colors = [];
    for (let i = 0; i < n; i++) {
        const h = (i * 137.5) % 360;
        const r = Math.round(Math.sin((h * Math.PI) / 180) * 105 + 105);
        const g = Math.round(Math.sin(((h + 120) * Math.PI) / 180) * 105 + 105);
        const b = Math.round(Math.sin(((h + 240) * Math.PI) / 180) * 105 + 105);
        // store rgb values as numbers for server runtimes
        // precompute all hex strings so browser runtimes are faster
        colors.push([r, g, b, [r, g, b].map(c => c.toString(16).padStart(2, "0")).join("")]);
    }
    return colors;
};
const colours = genColours();
const hash = (str) => {
    let h = 5381;
    for (let i = 0; i < str.length; i++)
        h = ((h << 5) + h) ^ str.charCodeAt(i);
    return h >>> 0; // Convert to unsigned 32-bit integer
};
function selectColour(ns) {
    return colours[Math.abs(hash(ns)) % colours.length];
}
const colourNs = (ns) => {
    const [r, g, b] = selectColour(ns);
    return `\x1b[38;2;${r};${g};${b}m${ns}\x1b[1;0m`;
};
exports.colourNs = colourNs;
